<!-- CustomCell.vue -->
<template>
    <div v-if="params.node.data">
        <template v-if="params.type === 'V3'">
            <template v-if="params.node.data.severity === 'High'">
                <div class="progress">
                    <div
                    :aria-valuenow="params.node.data.score_v3"
                    :style="'width: ' + params.node.data.score_v3 * 10 + '%'"
                    aria-valuemax="10"
                    aria-valuemin="0"
                    aria-label="Score(V3)"
                    class="progress-bar bg-danger"
                    role="progressbar">
                        {{ params.node.data.score_v3 }}
                    </div>
                </div>
            </template>
            <template v-else-if="params.node.data.severity === 'Medium'">
                <div class="progress">
                    <div
                    :aria-valuenow="params.node.data.score_v3"
                    :style="'width: ' + params.node.data.score_v3 * 10 + '%'"
                    aria-valuemax="10"
                    aria-valuemin="0"
                    aria-label="Score(V3)"
                    class="progress-bar bg-warning"
                    role="progressbar">
                        {{ params.node.data.score_v3 }}
                    </div>
                </div>
            </template>
            <template v-else-if="params.node.data.severity === 'Low'">
                <div class="progress">
                    <div
                    :aria-valuenow="params.node.data.score_v3"
                    :style="'width: ' + params.node.data.score_v3 * 10 + '%'"
                    aria-valuemax="10"
                    aria-valuemin="0"
                    aria-label="Score(V3)"
                    class="progress-bar bg-success"
                    role="progressbar">
                        {{ params.node.data.score_v3 }}
                    </div>
                </div>
            </template>
        </template>
        <template v-else-if="params.type === 'V2'">
            <template v-if="params.node.data.severity === 'High'">
                <div class="progress">
                    <div
                    :aria-valuenow="params.node.data.score"
                    :style="'width: ' + params.node.data.score * 10 + '%'"
                    aria-valuemax="10"
                    aria-valuemin="0"
                    aria-label="Score"
                    class="progress-bar bg-danger"
                    role="progressbar">
                        {{ params.node.data.score }}
                    </div>
                </div>
            </template>
            <template v-else-if="params.node.data.severity === 'Medium'">
                <div class="progress">
                    <div
                    :aria-valuenow="params.node.data.score"
                    :style="'width: ' + params.node.data.score * 10 + '%'"
                    aria-valuemax="10"
                    aria-valuemin="0"
                    aria-label="Score"
                    class="progress-bar bg-warning"
                    role="progressbar">
                        {{ params.node.data.score }}
                    </div>
                </div>
            </template>
            <template v-else-if="params.node.data.severity === 'Low'">
                <div class="progress">
                    <div
                    :aria-valuenow="params.node.data.score"
                    :style="'width: ' + params.node.data.score * 10 + '%'"
                    aria-valuemax="10"
                    aria-valuemin="0"
                    aria-label="Score"
                    class="progress-bar bg-success"
                    role="progressbar">
                        {{ params.node.data.score }}
                    </div>
                </div>
            </template>
        </template>
    </div>
</template>

<script>


export default {
  components: {
  },
  computed: {
  },
  methods: {
    refresh(params) {
      this.params = params
    }
  }
};
</script>

<style scoped>
    .progress {
        display: inline-flex;
        width: 100%;
        height: 25px;
        overflow: hidden;
        line-height: 0;
        font-size: 0.75rem;
        background-color: #e9ecef;
        border-radius: 0.25rem;
        box-shadow: inset 0 .1rem .1rem rgba(#000, .1);
    }

    .progress-bar {
        display: flex;
        flex-direction: column;
        justify-content: center;
        overflow: hidden;
        color: #fff;
        text-align: center;
        white-space: nowrap;
        background-color: #fe7c3f;
    }

    .bg-danger {
        background-color: #f44336 !important;
    }

    .bg-warning {
        background-color: #ff9800 !important;
    }

    .bg-success {
        background-color: #4caf50 !important;
    }
</style>